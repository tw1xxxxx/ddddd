<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö AlphaTruck Shop</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .diagram {
            margin: 20px 0;
            text-align: center;
        }
        .legend {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .legend-item {
            display: inline-block;
            margin: 5px 15px;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 14px;
        }
        .main-entity { background: #e1f5fe; color: #01579b; }
        .relation { background: #f3e5f5; color: #4a148c; }
        .additional { background: #e8f5e8; color: #1b5e20; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèóÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö AlphaTruck Shop</h1>
        
        <h2>üìä –õ–æ–≥–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å (ER-–¥–∏–∞–≥—Ä–∞–º–º–∞)</h2>
        <div class="diagram">
            <div class="mermaid">
erDiagram
    Brand {
        int id PK
        string name
        string country
        text description
        image logo
    }
    
    Model {
        int id PK
        int brand_id FK
        string name
    }
    
    Car {
        int id PK
        int model_id FK
        string vin UK
        string color
        decimal price
        int mileage
        image image
        boolean is_available
        int year
        text features
    }
    
    User {
        int id PK
        string username
        string email
        string first_name
        string last_name
        boolean is_staff
    }
    
    Customer {
        int id PK
        int user_id FK
        string phone
        text address
        datetime created_at
    }
    
    Employee {
        int id PK
        string first_name
        string last_name
        string position
        string phone
        string email
        image photo
    }
    
    Sale {
        int id PK
        int car_id FK
        int customer_id FK
        int employee_id FK
        date sale_date
        decimal price
    }
    
    Service {
        int id PK
        string name
        text description
        decimal price
        duration duration
    }
    
    Review {
        int id PK
        int customer_id FK
        int car_id FK
        int rating
        text text
        date date
    }
    
    Cart {
        int id PK
        int customer_id FK
        int car_id FK
        datetime added_date
    }
    
    Wishlist {
        int id PK
        int customer_id FK
        int car_id FK
        datetime added_date
    }
    
    TestDrive {
        int id PK
        int customer_id FK
        int car_id FK
        datetime date
        string status
    }
    
    Order {
        int id PK
        int customer_id FK
        datetime created_at
        string status
    }
    
    OrderItem {
        int id PK
        int order_id FK
        int car_id FK
        decimal price
        datetime created_at
    }
    
    Category {
        int id PK
        string name
        text description
    }
    
    Collection {
        int id PK
        string name
        text description
    }
    
    Clothes {
        int id PK
        int category_id FK
        string name
        text description
        float price
        string color
        int min_size
        int max_size
        image photo
        datetime create_date
        boolean is_exists
    }
    
    Brand ||--o{ Model : "–∏–º–µ–µ—Ç"
    Model ||--o{ Car : "–≤–∫–ª—é—á–∞–µ—Ç"
    User ||--o| Customer : "—è–≤–ª—è–µ—Ç—Å—è"
    User ||--o{ Sale : "–ø—Ä–æ–¥–∞–µ—Ç"
    Customer ||--o{ Sale : "–ø–æ–∫—É–ø–∞–µ—Ç"
    Customer ||--o{ Review : "–æ—Å—Ç–∞–≤–ª—è–µ—Ç"
    Customer ||--o{ Cart : "–¥–æ–±–∞–≤–ª—è–µ—Ç"
    Customer ||--o{ Wishlist : "—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç"
    Customer ||--o{ TestDrive : "–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è"
    Customer ||--o{ Order : "—Å–æ–∑–¥–∞–µ—Ç"
    Car ||--o{ Sale : "–ø—Ä–æ–¥–∞–µ—Ç—Å—è"
    Car ||--o{ Review : "–æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è"
    Car ||--o{ Cart : "–≤ –∫–æ—Ä–∑–∏–Ω–µ"
    Car ||--o{ Wishlist : "–≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º"
    Car ||--o{ TestDrive : "—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è"
    Car ||--o{ OrderItem : "–≤ –∑–∞–∫–∞–∑–µ"
    Order ||--o{ OrderItem : "—Å–æ–¥–µ—Ä–∂–∏—Ç"
    Category ||--o{ Clothes : "–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä—É–µ—Ç"
    Collection ||--o{ Clothes : "–≤—Ö–æ–¥–∏—Ç –≤"
            </div>
        </div>

        <div class="legend">
            <h3>üé® –õ–µ–≥–µ–Ω–¥–∞</h3>
            <span class="legend-item main-entity">–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏</span>
            <span class="legend-item relation">–°–≤—è–∑—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã</span>
            <span class="legend-item additional">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏</span>
        </div>

        <h2>üóÑÔ∏è –§–∏–∑–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å</h2>
        <div class="diagram">
            <div class="mermaid">
graph TD
    %% –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
    A[Brand<br/>–ú–∞—Ä–∫–∏] --> B[Model<br/>–ú–æ–¥–µ–ª–∏]
    B --> C[Car<br/>–ê–≤—Ç–æ–º–æ–±–∏–ª–∏]
    
    D[User<br/>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏] --> E[Customer<br/>–ö–ª–∏–µ–Ω—Ç—ã]
    F[Employee<br/>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏]
    
    %% –°–≤—è–∑–∏ –ø—Ä–æ–¥–∞–∂
    C --> G[Sale<br/>–ü—Ä–æ–¥–∞–∂–∏]
    E --> G
    F --> G
    
    %% –°–≤—è–∑–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
    E --> H[Review<br/>–û—Ç–∑—ã–≤—ã]
    E --> I[Cart<br/>–ö–æ—Ä–∑–∏–Ω–∞]
    E --> J[Wishlist<br/>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ]
    E --> K[TestDrive<br/>–¢–µ—Å—Ç-–¥—Ä–∞–π–≤—ã]
    E --> L[Order<br/>–ó–∞–∫–∞–∑—ã]
    
    %% –°–≤—è–∑–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
    C --> H
    C --> I
    C --> J
    C --> K
    C --> M[OrderItem<br/>–ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞]
    
    %% –°–≤—è–∑–∏ –∑–∞–∫–∞–∑–æ–≤
    L --> M
    
    %% –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ
    N[Service<br/>–£—Å–ª—É–≥–∏]
    O[Category<br/>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏] --> P[Clothes<br/>–û–¥–µ–∂–¥–∞]
    Q[Collection<br/>–ö–æ–ª–ª–µ–∫—Ü–∏–∏] --> P
    
    %% –°—Ç–∏–ª–∏
    classDef mainEntity fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef relation fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef additional fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    
    class A,B,C,D,E,F mainEntity
    class G,H,I,J,K,L,M relation
    class N,O,P,Q additional
            </div>
        </div>

     
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            },
            er: {
                useMaxWidth: true
            }
        });
    </script>
</body>
</html>
